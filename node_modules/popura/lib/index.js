'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = popuraFactory;

var _authenticable = require('./composers/authenticable');

var _authenticable2 = _interopRequireDefault(_authenticable);

var _searchable = require('./composers/searchable');

var _searchable2 = _interopRequireDefault(_searchable);

var _listable = require('./composers/listable');

var _listable2 = _interopRequireDefault(_listable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var debug = require('debug')('popura:factory');

/**
 * Factory function that composes an instance of popura
 *
 * @param  {string} username = ''
 * @param  {string} password = ''
 * @return {object} - popura instance
 */
function popuraFactory() {
	var username = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
	var password = arguments.length <= 1 || arguments[1] === undefined ? '' : arguments[1];

	debug('New mal client user \'' + username + '\'. Use password = ' + Boolean(password));

	var state = {
		username: username,
		password: password,
		authToken: ''
	};

	return Object.assign({}, (0, _authenticable2.default)(state), (0, _searchable2.default)(state), (0, _listable2.default)(state));
}
module.exports = exports['default'];